{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "GET notification response schema",
    "type": "object",
    "title": "response v2/notification",
    "oneOf": [
        {"properties": {
            "email_address": {"type": "string", "format": "email_address"},
            "type": {"enum": ["email"]},

            "phone_number": {"type": "null"},
            "line_1": {"type": "null"},
            "postcode": {"type": "null"}
        }},
        {"properties": {
            "phone_number": {"type": "string", "format": "phone_number"},
            "type": {"enum": ["sms"]},

            "email_address": {"type": "null"},
            "line_1": {"type": "null"},
            "postcode": {"type": "null"}
        }},
        {"properties": {
            "line_1": {"type": "string", "minLength": 1},
            "postcode": {"type": "string", "minLength": 1},
            "type": {"enum": ["letter"]},

            "email_address": {"type": "null"},
            "phone_number": {"type": "null"}
        }}
    ],
    "properties": {
        "id": {"$ref": "definitions.json#/uuid"},
        "reference": {"type": ["string", "null"]},
        "email_address": {"type": ["string", "null"]},
        "phone_number": {"type": ["string", "null"]},
        "line_1": {"type": ["string", "null"]},
        "line_2": {"type": ["string", "null"]},
        "line_3": {"type": ["string", "null"]},
        "line_4": {"type": ["string", "null"]},
        "line_5": {"type": ["string", "null"]},
        "line_6": {"type": ["string", "null"]},
        "postcode": {"type": ["string", "null"]},
        "cost": {"type": "number"},
        "type": {"enum": ["sms", "letter", "email"]},
        "status": {"type": "string"},
        "template": {
          "type": "object",
          "properties": {
            "id": {"$ref": "definitions.json#/uuid"},
            "uri": {"type": "string"},
            "version": {"type": "number"}
          },
          "additionalProperties": false,
          "required": ["id", "uri", "version"]
        },
        "created_at": {"type": "string"},
        "sent_at": {"type": ["string", "null"]},
        "completed_at": {"type": ["string", "null"]}
    },
    "required": [
        "id", "reference", "email_address", "phone_number",
        "line_1", "line_2", "line_3", "line_4", "line_5", "line_6", "postcode",
        "cost", "type", "status", "template",
        "created_at", "sent_at", "completed_at"
    ]
}